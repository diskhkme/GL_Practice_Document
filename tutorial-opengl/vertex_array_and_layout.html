<!doctype html>
<html lang="kr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-opengl/vertex_array_and_layout" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Vertex Array and Buffer Layout Abstraction | 그래픽스 실습</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://diskhkme.github.io/GL_Practice_Document/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://diskhkme.github.io/GL_Practice_Document/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout"><meta data-rh="true" property="og:locale" content="kr"><meta data-rh="true" name="docusaurus_locale" content="kr"><meta data-rh="true" name="docsearch:language" content="kr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Vertex Array and Buffer Layout Abstraction | 그래픽스 실습"><meta data-rh="true" name="description" content="이번 장에서는 정점 배열과 버퍼 레이아읏 추상화를 진행해 볼 것입니다."><meta data-rh="true" property="og:description" content="이번 장에서는 정점 배열과 버퍼 레이아읏 추상화를 진행해 볼 것입니다."><link data-rh="true" rel="icon" href="/GL_Practice_Document/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout"><link data-rh="true" rel="alternate" href="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout" hreflang="kr"><link data-rh="true" rel="alternate" href="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout" hreflang="x-default"><link rel="stylesheet" href="/GL_Practice_Document/assets/css/styles.aaccee4e.css">
<script src="/GL_Practice_Document/assets/js/runtime~main.fcb4cd04.js" defer="defer"></script>
<script src="/GL_Practice_Document/assets/js/main.9fd06bec.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/GL_Practice_Document/"><div class="navbar__logo"><img src="/GL_Practice_Document/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/GL_Practice_Document/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/GL_Practice_Document/">Tutorial</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/GL_Practice_Document/">튜토리얼 개요</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/GL_Practice_Document/category/튜토리얼---opengl">튜토리얼 - OpenGL</a><button aria-label="Collapse sidebar category &#x27;튜토리얼 - OpenGL&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_buffer">Vertex Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/shader_and_vertex_attribute">Shader and Vertex Attribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/parse_shader_from_file">Parse Shader from File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/index_buffer">Index Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/shader_uniform">Shader Uniform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object">Vertex Array Object (VAO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_index_buffer_abstraction">Vertex/Index Buffer Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout">Vertex Array and Buffer Layout Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/shader_and_renderer">Shader and Renderer Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/using_matrix_with_GLM">Using Matrix with GLM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/window_input_handle">Window Abstraction and Input Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/13_3d_rendering_with_mvp_transform">3D Rendering with MVP Transform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/interactive_camera">Interactive Camera</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/texture">Texture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/model_import">Model Import</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/lighting_ambient">Lighting - Ambient</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/lighting_diffuse">Lighting - Diffuse</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/GL_Practice_Document/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/GL_Practice_Document/category/튜토리얼---opengl"><span itemprop="name">튜토리얼 - OpenGL</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Vertex Array and Buffer Layout Abstraction</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Vertex Array and Buffer Layout Abstraction</h1>
<p>이번 장에서는 정점 배열과 버퍼 레이아읏 추상화를 진행해 볼 것입니다.</p>
<p>현재 삼각형과 사각형을 그리는 코드를 보면 삼각형을 구성하는 정점 좌표들을 배열로 정의하고 GPU에 복사한 뒤에, 데이터를 정점별로 끊어 읽는 방법을 <code>glVertexAttribPointer()</code> 함수의 매개변수를 하드 코딩하여 전달해 주고 있습니다.</p>
<p>이러한 경우 실수를 할  확률이 높아지는 문제도 있지만, 실제 3D 모델 데이터를 사용하고 싶은 경우에는 더 고려해야 할 사항들이 많기 때문에 꼭 해결해야 하는 문제입니다.</p>
<p>색상 데이터를 포함하도록 정점 데이터와 셰이더를 확장하여 문제점을 살펴보고, 추상화를 통해 코드를 개선해 봅시다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="색상-어트리뷰트-확장">색상 어트리뷰트 확장<a class="hash-link" aria-label="Direct link to 색상 어트리뷰트 확장" title="Direct link to 색상 어트리뷰트 확장" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#색상-어트리뷰트-확장">​</a></h2>
<p>강의 시간에 추가적으로 설명 드렸겠지만 실제 정점 데이터는 보다 복잡합니다. &quot;정점 데이터&quot;는 각 정점의 위치 데이터 뿐만 아니라 색상, 법선, 텍스처 좌표 등 다양한 정보를 포함할 수 있습니다.</p>
<p>지금까지 우리는 정점 위치 데이터인 2개의 float 값만 각 정점에 나눠주면 됐었는데, 좀 더 복잡한 경우를 만들어 봅시다.</p>
<p>이번에는 아래 그림과 같이 네 개의 정점에 위치값과 함께 색상값을 할당해 줄 것입니다.</p>
<p><img decoding="async" loading="lazy" alt="Vertex with Color" src="/GL_Practice_Document/assets/images/vertex_with_color-2b72222014ee901a0fba8298ff46f603.png" width="759" height="558" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="정점-데이터-확장">정점 데이터 확장<a class="hash-link" aria-label="Direct link to 정점 데이터 확장" title="Direct link to 정점 데이터 확장" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#정점-데이터-확장">​</a></h3>
<p>위 그림에 따라, 정점 데이터를 정의하는 배열은 아래와 같이 변경됩니다. 우리가 쉽게 알아보기위해 줄바꿈을 해 주었지만, 그냥 연속된 float값들의 나열일 뿐  임을 잊지 마세요.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//x     y    r    g    b    a</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//0번 vertex</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1번 vertex</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2번 vertex</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//3번 vertex</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>물론 색상값을 위한 별도의 배열을 만들어서 처리하는 방법도 가능합니다. 다만 처리하기가 더 복잡해 질 수 있습니다. 궁금하신 분은 <a href="https://stackoverflow.com/questions/14249634/opengl-vaos-and-multiple-buffers" target="_blank" rel="noopener noreferrer">이 글</a>의 내용과 이후 우리가 구현하는 내용을 비교해 보세요.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="셰이더-확장">셰이더 확장<a class="hash-link" aria-label="Direct link to 셰이더 확장" title="Direct link to 셰이더 확장" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#셰이더-확장">​</a></h3>
<p>이러한 색상 데이터를 셰이더에서는 어떻게 활용해야 할까요? 일단 기존 셰이더에는 각 정점이 <code>position</code> 데이터를 갖도록 어트리뷰트를 구성했고 이를 <code>location = 0</code>으로 지정했었습니다. 그리고 <code>glVertexAttribPointer()</code> 를 사용해 버퍼 데이터로부터 float 2개씩을 해당 어트리뷰트로 끊어서 넘기도록 했습니다.</p>
<p>이제는 셰이더에 <code>color</code> 라는 추가적인 변수가 필요하고, 이를 <code>location = 1</code>로 지정해 주겠습니다. <code>basic.shader</code>를 아래와 같이 수정합니다.</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">resources/shaders/basic.shader</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">shader</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">version</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">330</span><span class="token macro property expression" style="color:#36acaa"> core</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> position</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> a_position</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> a_color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">out</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> v_color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">uniform</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> u_offset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    gl_Position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> position </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> u_offset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    gl_Position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> a_position </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> u_offset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    v_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> a_color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">shader</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">fragment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">version</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">330</span><span class="token macro property expression" style="color:#36acaa"> core</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">out</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">out</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> out_color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> v_color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    out_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v_color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>바뀐 부분들을 말씀 드리자면 아래와 같습니다.</p>
<ul>
<li>우선 기존 정점 셰이더의 <code>position</code>을 <code>a_position</code>으로, 프래그먼트 셰이더의 <code>color</code>를 <code>out_color</code>로 이름을 변경해줬습니다. 어트리뷰트는 어트리뷰트임을 알 수 있게 <code>a_</code> 접미어를 붙여 주었고, 프래그먼트의 출력은 <code>out_</code>을 붙여 준 것입니다.</li>
<li>정점 셰이더에 새 어트리뷰트로 <code>a_color</code>가 추가되었습니다. 앞서 본 것처럼 CPU에서 정의한 정점 배열에서 각 정점이 가지고 있는 4개 float으로 구성된 색상 데이터가 이 어트리뷰트로 전달 될 것입니다.</li>
<li>정점 셰이더의 <code>out vec4 v_color</code>와 프래그먼트 셰이더의 <code>in vec4 v_color</code>는 서로 한 쌍으로, 정점 셰이더에서 프래그먼트 셰이더로 전달되는 값입니다. 래스터라이저 강의에서 이 과정에 대해 자세히 배울 것입니다.</li>
<li>마지막으로 프래그먼트 셰이더의 출력 색상을 고정된 값(<code>(1.0, 1.0 ,0.0, 1.0)</code>)에서 <code>v_color</code>로 변경해 주었습니다. 흐름을 보면 정점 셰이더에서부터   전달한 값이 색상으로 활용될 것이라는 것을 예상하실 수 있을 겁니다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="어트리뷰트-설정">어트리뷰트 설정<a class="hash-link" aria-label="Direct link to 어트리뷰트 설정" title="Direct link to 어트리뷰트 설정" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#어트리뷰트-설정">​</a></h3>
<p>이제 의도한대로 셰이더 어트리뷰트가 전달될 수 있도록 코드를 수정해 보겠습니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">VertexBuffer squareVB</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">VertexBuffer squareVB</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Position 어트리뷰트 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Color 어트리뷰트 설정</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IndexBuffer squareIB</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>우선 정점 데이터 배열의 크기가 늘어났으므로, VertexBuffer의 생성 부분을 그에 맞게 수정해 주었습니다.</p>
<p>뒤의 수정부분은 기존에는 간단히 넘어갔던 <code>glVertexAttribPointer()</code>를 좀 더 자세히 설명해야 이해가 되실 것 같습니다. 아래 그림을 보겠습니다. <a href="https://docs.gl/gl3/glVertexAttribPointer" target="_blank" rel="noopener noreferrer">문서</a>도 같이 보시면 더 좋습니다.</p>
<p><img decoding="async" loading="lazy" alt="Stride and Offset" src="/GL_Practice_Document/assets/images/stride_and_offset-2275d6f35c112a6eb7aa6cf5ef4f585b.png" width="1527" height="659" class="img_ev3q"></p>
<p><code>glVertexAttribPointer()</code>의 첫 번째 매개변수는 어떤 어트리뷰트 location을 위한 설정인지를 의미합니다. 따라서 <code>a_position</code>와 <code>a_color</code>에 대한 설정을 할때 각각 <code>0</code>, <code>1</code>이어야 하는 것이 자명합니다.</p>
<p>두 번째 매개변수는 각 어트리뷰트에 몇 개의 값을 전달할 것인지를 의미합니다. <code>a_position</code>을 위해서는 두개, <code>a_color</code>를 위해서는 네개 값을 준비해 두었고, 그 값의 타입은 세 번째 매개변수에서 <code>GL_FLOAT</code>라고 알려 주었죠.</p>
<p>중요한 것은 다섯 번째와 여섯 번째 매개변수인 stride와 offset이고, 이것이 위 그림에서 설명한 내용입니다.</p>
<p>stride는 한 정점 데이터에서 다음 정점 데이터를 얻기 위해서 얼마나 바이트를 건너뛰어야(stride) 하는지를 의미하므로 <code>sizeof(float) * 6</code>만큼인 24 byte가 됩니다. 이는 <code>a_position</code>에 대해서나, <code>a_color</code>에 대해서나 동일하다는 것을 아실 수 있을겁니다.</p>
<p>반면 offset은 데이터의 시작 위치를 의미합니다. <code>a_position</code>에 넣어질 값들은 앞쪽에 위치하므로 <code>0</code> 바이트부터 시작하지만, <code>a_color</code>에 넣어질 값들은 위치값 이후에 위치하므로 <code>2 * sizeof(float)</code>에서부터 시작합니다. OpenGL API에서는 이 값을 <code>const void*</code>로 받게 설계되어 있으므로 해당 값을 캐스팅해서 넘겨준 것입니다.</p>
<p>실행해 보시면 아래와 같은 화면을 볼 수 있습니다. 왜 꼭지점에서부터  색상이 조금씩 변하는지는 래스터라이저 강의를 들으시면 알게 되실겁니다. 어쨌든 우리가 정의한대로 왼쪽 아래는 빨간색, 오른쪽 위는 파란색, 오른쪽 아래는 초록색 색상으로 표현된 것을 확인하실 수 있습니다.</p>
<p><img decoding="async" loading="lazy" alt="Result" src="/GL_Practice_Document/assets/images/result-46510bad26d946f57702f08531b1ee23.png" width="642" height="512" class="img_ev3q"></p>
<p>이해하기 어렵지는 않으셨겠지만, 실제로 코드를 작성해 보라고 한다면 지금 상태로는 만만치 않으실 겁니다. 예를들어 기존의 <code>u_offset</code>을 어트리뷰트로 변경해서 각 정점마다 이동 위치를 다르게 해 본다고 상상해 보세요. 그러면 정점 배열이 더 커질것이고, <code>a_offset</code>을 위한 stride와 offset을 다시 계산해야 할 겁니다. 이 과정에서 하나라도 틀린 값이 들어간 순간, 내가 의도한 것과는 다른 화면이 나타납니다.</p>
<p>문제는 다른 화면이 나타난다는 겁니다. 컴파일 오류라도 발생한다면 컴파일러가 어디가 문제인지를 알려 줄텐데 그게 아니라 잘못 설정한 값 그대로 해석해서 의도하지 않은 화면이 보여진다는 겁니다. 이를 해결하려면 내가 코드를 들여다보고, 종이에 그려보면서 다시 점검해 보는 수밖에 없습니다. 이는 상당히 소모적인 일이고, 생산성이 떨어지는 방식입니다. 따라서 우리는 앞으로 다음과 같은 코드들을 사용해 이러한 작업에 실수가 없도록 할 것입니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vertexbufferlayout-class">VertexBufferLayout Class<a class="hash-link" aria-label="Direct link to VertexBufferLayout Class" title="Direct link to VertexBufferLayout Class" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#vertexbufferlayout-class">​</a></h2>
<p>먼저 정의할 것은 <code>VertexBufferLayout</code> 클래스로, 각 정점을 구성하는 요소들의 타입과 개수를 저장하고, 이를기반으로 stride를 계산하는 기능을 하도록 설계되었습니다.</p>
<p>요소들의 타입과 개수, normalize 여부는 추가적으로 <code>VertexBufferElement</code> 구조체가 저장할 수 있도록 정의하였으며, <code>VertexBufferLayout</code> 클래스는 템플릿을 사용하기 때문에 편의를 위해 헤더 파일에 함수 본문까지 정의해 두었습니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">VertexBufferLayout.h</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">pragma</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">once</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;vector&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;cassert&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;GL/glew.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">VertexBufferElement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> normalized</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetSizeOfType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> GL_FLOAT</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> GL_UNSIGNED_INT</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> GL_UNSIGNED_BYTE</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VertexBufferLayout</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//하나의 layout은 여러개의 element를 갖고 있음(ex, position, normal, color, etc...)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">VertexBufferElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> elements</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> stride</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">VertexBufferLayout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> stride</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typename</span><span class="token plain"> </span><span class="token class-name">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token function" style="color:#d73a49">assert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">//template specializations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">float</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		elements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push_back</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VertexBufferElement</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		stride </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">VertexBufferElement</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">GetSizeOfType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_FLOAT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//vertex 하나당 float 데이터가 count개 추가될수록, count * size(GL_FLOAT)씩 stride가 커져야 함</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">unsigned</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style="color:#00009f">int</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		elements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push_back</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VertexBufferElement</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GL_UNSIGNED_INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		stride </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">VertexBufferElement</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">GetSizeOfType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_UNSIGNED_INT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//위와 마찬가지</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">unsigned</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style="color:#00009f">char</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		elements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push_back</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VertexBufferElement</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GL_UNSIGNED_BYTE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_TRUE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		stride </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">VertexBufferElement</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">GetSizeOfType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_UNSIGNED_BYTE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">VertexBufferElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> elements</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">GetStride</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> stride</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>핵심은 <code>Push&lt;&gt;()</code> 함수이고, 동일한 어트리뷰트를 구성하는 요소의 타입과 개수를 이 기능을 사용해 입력하면, <code>VertexBufferElement</code> 구조체의 벡터로 저장해 두는 방식입니다. <code>Push&lt;&gt;()</code> 호출하면 <code>stride</code> 필드의 값이 계속 증가하게 되는데 증가하는 값은 그 타입의 크기와 개수를 곱한 값입니다.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><ul>
<li>
<p>미리 정의되어 있는 <code>float</code>, <code>unsigned int</code>, <code>unsigned byte</code> 이외의 값들은 사용할 수 없도록 하기 위해 템플릿 특수화를 사용하고, 이외의 값들에 대해 함수가 호출될 경우 <code>assert</code> 하도록 되어 있습니다.</p>
</li>
<li>
<p><code>GL_FLOAT</code> 등은 타입이 아니라 타입을 정의하는 <code>GLenum</code>입니다. <code>glVertexAttribPointer()</code>의 세 번째 인자로 이 값을 넘겨줘야 하기 때문에 내부적으로 <code>GLenum</code>을 가지고 있고 바이트 크기를 따로 매핑해 주었습니다.</p>
</li>
<li>
<p><code>vector</code>는 동적 배열로 C#/Java와 같은 언어에서의 <code>ArrayList</code>와 비슷한 것으로 보시면 됩니다. <code>push_back</code>이 <code>add</code> 기능에 해당됩니다.</p>
</li>
</ul></div></div></details>
<p>C++에 익숙하지 않으시면 대략적인 기능만 파악하고 사용하셔도 무방합니다. (마찬가지로 수정할 일이 없을 예정) <code>main.cpp</code>에서 어떻게 사용할 예정인지 볼까요?</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;VertexBuffer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;IndexBuffer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;VertexBufferLayout.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Position 어트리뷰트 설정</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Color 어트리뷰트 설정</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">VertexBufferLayout squareLayout</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">squareLayout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">float</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 0-th layout (position)</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">squareLayout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">float</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1-th layout (color)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위와 같이 기존에 우리가 열심히 계산해서 넣었던 <code>glVertexAttribPointer()</code>의 매개변수들을 그냥 float 2개 추가, float 4개 추가 등만 명시해서 사용할 수 있도록 할 겁니다. 물론 실제 <code>glVertexAttribPointer()</code>의 호출은 <code>VertexBufferLayout</code>에 들어있지 않기 때문에 위 코드대로 실행하면 아직 제대로 동작하지 않습니다. 이 부분은 VAO를 추상화한 <code>VertexArray</code>에서 담당하도록 할 겁니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vertexarray-class">VertexArray Class<a class="hash-link" aria-label="Direct link to VertexArray Class" title="Direct link to VertexArray Class" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#vertexarray-class">​</a></h2>
<p><code>VertexArray</code> 클래스는 다음과 같이 정의됩니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">VertexArray.h</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">pragma</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">once</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;VertexBuffer.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;VertexBufferLayout.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">VertexArray</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> vao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">VertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token operator" style="color:#393A34">~</span><span class="token function" style="color:#d73a49">VertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AddBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VertexBuffer</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> vb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VertexBufferLayout</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> layout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Unbind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>특별한 기능이라곤 <code>AddBuffer()</code> 밖엔 없죠? 구현까지 보고 설명드리겠습니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">VertexArray.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;VertexArray.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;GL/glew.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">VertexArray</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">VertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">glGenVertexArrays</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">VertexArray</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token operator" style="color:#393A34">~</span><span class="token function" style="color:#d73a49">VertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">glDeleteVertexArrays</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">VertexArray</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">AddBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VertexBuffer</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> vb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> VertexBufferLayout</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> layout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">Bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// vao 바인딩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	vb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// vbo 바인딩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">// VAO와 VBO가 바인딩 된 상태에서 어트리뷰트 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">auto</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> elements </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> elements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">auto</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> element </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> elements</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normalized</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetStride</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		offset </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token class-name">VertexBufferElement</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">GetSizeOfType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">VertexArray</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">Bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">VertexArray</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">Unbind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>기존과 동일한 코드를 단순 호출하는 부분을 빼면 역시나 <code>AddBuffer()</code> 메소드만 보면 될 것 같습니다. 호출할 때는 데이터가 들어있는 <code>VertexBuffer</code> 객체와 어떻게 읽어야 하는지를 기술한 <code>VertexBufferLayout</code> 객체를 넘겨줍니다. 그리고 레이아웃에 들어있는 요소들을 순회하면서 구성하는 개수와 자료형을 기반으로 offset 값을 계산하여 적절한 매개변수들로 <code>glVertexAttribPointer()</code>를 호출해 줍니다. offset 이외의 나머지 값들은 이미 <code>VertexBufferLayout</code>들이 계산해 가지고 있도록 했기 때문에 접근해서 넘겨주기만 하면 되죠.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Index Buffer는 왜 포함을 안시키나요?</summary><div><div class="collapsibleContent_i85q"><p>VAO에 기록해 두는 것은 정점 데이터뿐만 아니라 인덱스 데이터까지 포함됩니다. 따라서 위 <code>AddBuffer()</code>에 인덱스까지 포함하지 않는 것이 이상해 보이실 수도 있는데요, 이는 인덱스 버퍼(GL_ELEMENT_ARRAY_BUFFER)의 VAO에서의 특성 때문입니다. 그 특성은 인덱스 버퍼는 하나만 VAO에 기록이 가능하다는 것이죠. 반면 정점 버퍼(어트리뷰트를 위한)는 여러 개 기록할 수 있습니다. 제가 몇 번 링크해 드린 OpenGL State Diagram에도 이 그림이 잘 표현되어 있습니다.</p><p><img decoding="async" loading="lazy" alt="State Diagram" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWQAAAEBCAYAAABPIt/JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACFjSURBVHhe7d0LkFTVmcDxz2y2orwEmeFho2FKYBwfKEKAksRgoDChoq4VnDU7JgipsVYSQ1KkKAJUHtZoKDZUNBjcdSqiWag1EyzWx5LAQpxkVxcJSMTHCEINPkaBYRQZZzS72c2ec+/p7nu7b/fc7r53+jTz/1Xh9H10n3Pu47tf326/Pquuru4vinj/aZmPvX+9guYBwEB31llnmUdpyXnev77HFw66jogKABb4mPkLACgzAjIAWIKADACWICADgCUIyABgCQIyAFiCgAwAliAgA4AlCMgAYIk+/0+9OV+Ykfpf+4Lo/3Wa5SzPheUsP5OXF2Lntt3mUW78r9OoSGv3/0b+dpJ+9IE8u2KBfHm9M7sy3blGXlxzpQxTD0//vlku/8Jj7nxYZ+78meZR4SIJyGTIZ/DyLy6U9Qtr5P2nfyCrN5h5GWzt/233/kA+k+iU/1hwvzwc5vk5xup9/eu+v0LqLztbPVKve/PP5OGM5UHSy2+Qpl9dJWM7npevfesJd6GZd+5LO+TOHz5r5vll9k8y1g3ffjCWx7vcYfbdIGcifexkIkNGfiYzO/HPn5c5f2/mVQg3Q35Dfjn4dllu5rnjmSAvBWXMIcYa+JqhfVt29VwnEw5tl09O+Ylv3qjMrPcfH5TXvyIBfb9ShAzZakEZ8m33fl3kWyYIL/m6NMnPAhMcMmTljF3uXJXHyusP/0h+/G+z5DsPz5M6aZeWPUOk/tpqs9JH0uZdPtid+46TJZqMzp0lvU5mJr71RGV7i5eK3L3lKhH9nDeyszh///yvqdtZ9fpCuf+2zOzh6oD+eDNUpUeNZYsephrjI2vkx0+Z5+gx3vaIjA3KkNXJ8HM19uTrZfZHe+fpHXJqun+MTkZrnutK9jNzPOa5p9znpLJ077qpDNk/xlQ7ijtOkTY1rn940mw/MuRAti/PsmShfOeNR9TxaqY9yJDPaF+Sf3m7US57QWVU2z5lsquDcuKaWpnw/h+l6fw/yOfU8qsl8/EKaTavkJk1Nv56i6y+Zogc1tOis7gL3ccvu5mnvD9EhmW+hkc6w2yTqcls8aHRAZmf23dffzwZ4k/ly6of4twbfnPxb+QLx7xjdF8nM5tN31M2VNtNx2alxvPoJ92xnTz2gVSNCRijGn/wa3rHc1CeHV0rVx93s2D/+mEyZDPuc92lWuqeMRlyRch3D9m50I54xXPLyo8MWTmTlzsHQM070naqRup0pvbIBzI1dS8rSWdw+6XKk11uN0uSWVnyvqqb8ZllRu9L21XG9l+pZens0+Xtny/D1XSG/e8jnAzZn/mls91fLnxYdjjPz8xmVXavM8i/qAz7ZpF97WPlM5d1p+7PZd1DdsYyRF5/aajUmezz5FxPBpvMQHtFBvk3kHl38GxGxhs0ng5pG54ImSFr7jzfPWSdiU//IL3PfP0nQ85k+/I0ta/vFVmdIxhrZMhnPJOV6YdOZiaeLM08zsqW+8qQ3cz0t/Mzs2WRw4culAmeDNLPmyF6+hEyQ85u23385fXprNL7DYTMbDaIN+P3Z8gBY8zKkIPGYzJkp9/H5RY9TwrJkPMgQ64IsX/L4tKqv/tLd++76mFwXCZDtnt5VuaaeS/UycA895gDMmSdMAbdQ9bzvvGDqvQ95OR9Z08W6O1fsi9pKsv9wzvyyU+FyJA9fUnRGfbSx2XRfT9Ur+tmzMl7c1kZcqDMrDv7HnLyHYCWmSEHjef4MZHRYzxZc+b95oAM2WnfNz8ttf3IkAPZvjxF778FIk95z68MkQRkoGxM1qi/n+u+A0hmnt57xnwPGf2H7yGznOUsN1PZWF7e5YXgHjIARIgMmeUsZ7mZysby8i4vBBkyAESIDJnlLGe5mcrG8vIuLwQZMgBEqOwZ8uixI80jAECxjr/TZR7lxi+GAIAlCMgAYAkCMgBYgoAMAJYgIAOAJQjIAGCJEAF5vmx4frPsOZzj3/MrpcGsWZpG2bBpvnmcFDQvSKO0HF4rq81Uw6a1smGRmehT2DYAIF4hAvI2WbL+Zek2U369snf9PbLZTJVPs9RPWC5NZgoAKlG4WxYb75GHdveaibTu3VtlyUYzUYCGTc0Z2bXOwmfLtJkNsmd7ozMneJ7I6u1uZr7Ll9Wqdbf7M/WqWzLaWLMynTUvWiktzvNztWuy/9Q8nYFnzgOAaIW+h7z51j1y1Dx2dcjTt24zjwugguGNslWmT2iQ+14ZLrOcIKmy8KtaZe/uzTL9uuQPDAXN0zrkCfXcOXnbHiEjO902pu8YLotz3pLIbqNh001StUM9Tz93/0RpWaPnTZSTd/vnAUDUCvhQr1nqt3SYxyJHtxR5i2Bjp4jOSFW2uXTmCDMzau/JwV0mYK94TQ66j0KpqR4k4xeYbHhBQkaOm68uRq0id5p5807J4yvMygAQoQICsrJiuTxxRP090ir1RQYlb7Z53+73zNyojZDaOSYrXjNRap0Hw6XKfSANc2okV4WO9s4O2ZvqX690vaUC+5rZ6ax5vciNfAgIIAaFBWSl6ToVlHy3EAqzedcpqV3lZptLZyZk2i3pe7JVGfeLtaB5fVOB/hI3C9cZ7UP69obKlMVkvour3xNvmQ9vG95seLFsdS886kJ0YIo7b8+qGjmZzL4BIEJUewOAfkC1NwCoIARkALAEARkALEFABgBLEJABwBIEZACwRJ9fe9v625/IvufazJS9ps6o67d+9mdbmQZq23GxcUz0qTS2br+bPvdtM5VbnwF59Y9ul1dfajdT9rru+qtl+5PPmql49WdbmQZq23GxcUz0qTQ29vXiy2qk6bsPmqncuGUBAJYgIAOAJQjIAGAJAjIAWKJfA/LsZd+QdffeLLPNtJez7MFvyB1zzYy+zL1Zmh5cJssXmunQ5sly9bx1Dy6SejMnUkX3K1r1d+kxhuiHJf3tm9lvd80z04rpe65jKkru8RnmmMl/fDn7JbL+JttaJk3Lppl50+SOe915vm0VUvhxeviOofDnV+hjtBRO3wqIKwsXudvO95yg7RyPAZgh75C1t6+TZbdvlBYz50zU8j09xnWy9hEz40y081eyWu/Lb/1KWs2s8uvH42vuuTJM/fnw4O9k9bq97jw5T4YOUn+OvSjLvrfDndWvwo/fxmN0dtVg9d8/yeGW++WBne684O0cj8K/9qavILPOMxOm4wnvPKX3DXlSnSSirrbX134iNe+VN0fLJclpzaynTyZ9Zb6+VtIbIqidnfpKdbmMNnO148+4OzT7qy4Z66YOUJ1BfFYmiGlbX0HrL5Rz3LVcul/7h8j1We27U7m/VuNvU+/AnTJTrr/guK8tOXFKZNRwT5vu67dd4dle8q48F3BQh/1KT+b21NnIjDFmoeIeXOdl9TffAZfVtm8fKc7+fF+me7e72cejPO077bxQE7zdM56f3L+pbesLNP557pg9x5eS2gc5tmvmmPyvEXR8J48Fcxzp4Kek+5lxfKk5Wf0q9PjK2M7ufhJf+8l959vPZrv4970Zf5/ncR99yjy/FHcbBJ1fo6XDu83MMjc+pI/RwG2fec7nOp48x62vr1nnt37dQzK0/nIZ5t2Ouk9PqdVT6ybb9+/noG0ftJ0z+xTT197UxtE7TG+U238nh3s/IRO+mH77pXfIkwf/JDJotNQtuVnmqo2rO5acN8r8YpOet+yZd9W8C2Vu4FuA4Ha+tmySs2NS7eQx21lXb1R1FdZtjbk8+K1RMstS/5zXTAaFPOPMTWUHLW/Ih+qR7qPeIa3rDslxvT3U25/ZV4xWO/tP0vH2aXd15/VflOOiXv9vvi6f1wej3rnOvPNkRhFvOfPTJ6Mej8g5F9So8WT3txje/f7Zdfrkcbe7O+9CmZ7a7rp9bzvvymG9jhrzc8fU5KAhMvMu/Xy9nt4GIqMvCr8NWtfd7+zHZWaMzkmhAr8+DsNt13kyPbWuZ78/stEcb7pf6SDlcPZhvizPvGZqX2vnybWhj6/Mc0Htu9rLpV72ygNPufvOe/K3fM+0YYKEDkiTVZBwzrnU+BcHn8f5xpnBPb9CnIs726VDvX7iCnWez62RhApiH77ZHvCOJnjbL3WOh7DHUx6p7a9ft0Z0HpxFxYKdzliSwVjPzN7Os5fNdIKxHnt2bCmgTwEKC8gmddcb5foHzRVCnUSj9Dw1iO70T+6JHHpfdNg5p/az/uxAB6QXVGcf6TAHZ4Ac7VSfq1/nXTmqDv7WF447GymX1nW73Z1av8y96qsdsifnSaOojEH30zlY8o6zUDtkz0FRB+Q8qbtAH3CH5IFD7hL3wNwhR3Uw+thfyV/rmWrnrktmBMPOjeheo9H7gZwwD6Pj3e9qDGerP73HpU0dzMl9NKwq9323rpM95pHrw/f1CaGCRkb2VYj6u/Q+M8dZYoib8YTaruoCZU6wdWa/H9/vZrlFS77d9e7rj39chQUlzPHle/5eaXtTb5/BMjLsPVETZPR56I5fBZtj3SUf36NCn4tun3UCcMc1Ovt8Vw4EBqugbd8u/607WsDxlItv+5fIHbtKFmaZ2KIU06cghQXknW6QTWcbSo6TfPjsdIbqv4Kaq+XCRO4TLkc7neZkHa+uRm62mcfCy92dqq9iOgtUB19wNq4k376p9pwrWwHjDEMfSKKyGh0kDv8+fV/PzVLnyXj9Nuf//lf+R/1xMhmTtcrp90sLBv1OjeEj9cf3jkAN42TYbGGwVKeyJLPdC5R823j8GZPhdHzgbMtw21W9PZ2SzBzXOVn76FklfvhrjiXfvv7zn9WZoYQ5vnzPn+Ze1KVHuvJkr34Bmeek89SeUko4vk8UcC667xIvlAl67Mc6ctxbDtr2l8u5evBFH09pvu1vnHOuas9k7YVwx+6PbcX0KUiBtyy8VzF9tVXpublPlunU2/pq5maobob8Caka/nFnmXO1Nlnrzj6vlul2fq53rFqqr0z+rDuAevvl7lR1FXPuC5mMKZO+x2Sucm57+tPUhBwNOc5cdLupT2STAd5c6VOcDMVkLf/6M/lNMpPR/dUHZupeafx8/S3BiV/rE9yz3/t6Z+LTIx/oDCa13fXjSaE/Idf3IJP38Jz9rvflNe+nM8Q+t6t5e+rsF3M/0BdAdOZewCf2Dv0OSZ20qX2tvStPhz6+zLngPN/NHD88+GKfH5ilZWeeH765T76ft/2+x+kEWfU31Lmo+pDMTI8fKWzbr3FuwRR7PHl4z7Wn/kleTh5nvvvL4Xjffes+6Yt9VB9MUsuiCIW05f2gQmfrzo5zPmgYIgeK+CS+P8eZqZxtx8XGMdGn0tjYV2pZWCL9QZPngx/ng8TCgzGAMxsBGQAsQUAGAEuEKlB/Uv+PDJa7qPYCOXLwTTMVr/5sK9NAbTsuNo6JPpXGxr5WjRoeXYH65p8+Zqbs1fjNL0nLkw+YqXh99atflV/84hdmqn8N1LbjYuOY6FNpbOxr/fV38KEeAFQSAjIAWIKADACWICADgCWKC8hr1sqew82yYZGZzkWt17LGPC6bhEz99MUy1EzFYWjtLJk7d27q39SEanXKVNVypqFy8afddWbVeno07GKZleqj6q/ntZx/U7Jfyc99ju81A6n1+nytQpWz7RjofWG2u96PVrCxT55jue/js3IMrZ0qFzuVl9KC5sWlqIDcME5k792NsmSjmWGxoTpQdJqJmAwb9JG07dwpO82/fd6qdx5DayfL4HZ3naODJqd28tCxg+WjnsGScKY7ZJ/zOm3yXleb+5r7c7xg0jA1xjefk2cOdpsZ/aicbUdOBZnJg+Wo2f5SE++FPBwb++Q/lttkfL8FrDNd4QF50UpZPDMh01Z5M+RGaTm8WWXNm/NmxA2bmp11fNm1k21nzIuKyiwmqQBn6pqU2VBJDOqSQya2dhzpksFj9aml5/fIoSM9ZrpQ+oQdJyMumOHLUhNTQmQvnswr/dx0ht531lvOtuMwTAb3HFNHjNYhhzqTF8lysrFPqlcqCTmWdSzbSB2jU2ZlvMNIyMWp40svt+MipxUekDfeIw/t7vBlyKu3T5QDExpk+oRWkSmN7swsjXJj9R61jl5vq8gtK6VBB/J5p+Q+37zoJMaKHOqXzG2E1JkdPndu0K2KfNTZ1dsh3ac7pGdQoogDo1tePfCWvOfNUhNTZcyJZPYyJmd/EhclM6+dckBdunSWk5gyXnr2+OflVs62Y6Cz/V6nLp89bOyTOkqHSo9bwbAidMkB51hT7zBGFXZ29rdIPtRr7xwhNzhZ7mz15iWXZqnfP9Fkww1Stf8e2byoWkYOu1SWmnnTLhouNWbtkunA8MGrKmT0h/c8tyz2mWwmpMQYGacyzLlzZ8i4kYPdwuGl6u6Rs+vcC0TdSDMvQMf+YzLGXEhmDDomr55WJ9rgc2TcdDPvghEyuNArRDnbLtVpdbQM6u+rQB9s7JM6q7olomO1P/Tq/laGCAKyN/NtlaNmbrb5smFKMhtukANT1srqjZ3SdaQ1/dzTpySaQp/qbUjNCBmRDAwXjJMZBWeuUeuWjt6RMsl0InHRSOl5p1sSoyQdzNUFfEwEnfRmn21dZmaAobVjUhnpzhNj1Ns5deD2pC8ubV0fSk+BR3I52y7daekZnMzqEzKpukc6yp4G2tgn1aves1PHavJYriSDkxe5YQlReZA1IgjIzert5WyT+aoM+aLpOe4Fb5Mlj4osdtbbLDfIa9Lky5onyoGrVNZs1i6Neiv9n+Zk1yf3m2/Jc4VmriXSB2z6NoZ7T7T74AHpqXGnx/ceUFlhQr2pT94fVDqORfKWquOEpNquGzlCxue4H9t98JDIZNPHOqceuC9zHXPiGdVHs3JI5Wy7dPoWTI+Md/qgOtXeX++w8rGxT3r/pY/lOpWG9f++KoX+XKnOPfYm6w/UzWwLUMuiCOX8f+UHattxsXFM9Kk0NvaVWhYAUGEIyABgCQIyAFgiVIH6fc+1mSl7TZ1RJy8fiuanuPtyxRVXyAsvvGCm+tdAbTsuNo6JPpXGxr5eOmkaBerjUs4PDQZq23GxcUz0qTQ29pUP9QCgwhCQAcASBGQAsAQBGQAsUVxApkC9DwXqy9V2DGwsBm9jnzzHMgXqo1NUQKZAvR8F6ilQHx8b++Q/lilQH53CAzIF6otEgXqfktuOAwXqw6JAfTwKD8gUqA9AgXoK1MeEAvURoEB9AArUB6JAPQXq86FAfekoUB+EAvUUqE+jQH1YFKiPAwXqKVDvK+pNgXoK1IdDgfroUaA+dtSyiF8l1TMIy8Yx0afS2NhXalkAQIUhIAOAJQjIAGAJCtQXoZwFsAdq23GxcUz0qTQ29pUC9TEq54cGA7XtuNg4JvpUGhv7yod6AFBhCMgAYAkCMgBYgoAMAJYoLiBToN6HAvXlajsGNhaDt7FPnmOZAvXRKSogU6DejwL1FKiPj4198h/LFKiPTuEBmQL1RaJAvU/JbceBAvVhUaA+HoUHZArUB6BAPQXqY0KB+ghQoD4ABeoDUaCeAvX5UKC+dBSoD0KBegrUp1GgPiwK1MeBAvUUqPcV9aZAPQXqw6FAffQoUB87alnEr5LqGYRl45joU2ls7Cu1LACgwhCQAcASBGQAsAQF6otQzgLYA7XtuNg4JvpUGhv7SoH6GJXzQ4OB2nZcbBwTfSqNjX3lQz0AqDAEZACwBAEZACxBQAYASxQXkClQ70OB+nK1HQMbi8Hb2CfPsUyB+ugUFZApUO9HgXoK1MfHxj75j2UK1Een8IBMgfoiUaDep+S240CB+rAoUB+PwgMyBeoDUKCeAvUxoUB9BChQH4AC9YEoUE+B+nwoUF86CtQHoUA9BerTKFAfFgXq40CBegrU+4p6U6CeAvXhUKA+ehSojx21LOJXSfUMwrJxTPSpNDb2lVoWAFBhCMgAYAkCMgBYggL1RShnAeyB2nZcbBwTfSqNjX2lQH2MyvmhwUBtOy42jok+lcbGvvKhHgBUGAIyAFiCgAwAliAgA4AligvIFKj3oUB9udqOgY3F4G3sk+dYpkB9dIoKyBSo96NAPQXq42Njn/zHMgXqo1N4QKZAfZEoUO9TcttxoEB9WBSoj0fhAZkC9QEoUE+B+phQoD4CFKgPQIH6QBSop0B9PhSoLx0F6oNQoJ4C9WkUqA+LAvVxoEA9Bep9Rb0pUE+B+nAoUB89CtTHjloW8aukegZh2Tgm+lQaG/tKLQsAqDAEZACwBAEZACxBgfoilLMA9kBtOy42jok+lcbGvlKgPkbl/NBgoLYdFxvHRJ9KY2Nf+VAPACoMARkALEFABgBLEJABwBLFBWQK1PtQoL5cbcfAxmLwNvbJcyxToD46RQVkCtT7UaCeAvXxsbFP/mOZAvXRKTwgU6C+SBSo9ym57ThQoD4sCtTHo/CATIH6ABSop0B9TChQHwEK1AegQH0gCtRToD4fCtSXjgL1QShQT4H6NArUh0WB+jhQoJ4C9b6i3hSop0B9OBSojx4F6mNHLYv4VVI9g7BsHBN9Ko2NfaWWBQBUGAIyAFiCgAwAlqBAfRHKWQB7oLYdFxvHRJ9KY2NfKVAfo3J+aDBQ246LjWOiT6Wxsa98qAcAFYaADACWICADgCUIyABgieICMgXqfShQX662Y2BjMXgb++Q5lilQH52iAjIF6v0oUE+B+vjY2Cf/sUyB+ugUHpApUF8kCtT7lNx2HChQHxYF6uNReECmQH0ACtRToD4mFKiPAAXqA1CgPhAF6ilQnw8F6ktHgfogFKinQH0aBerDokB9HChQT4F6X1FvCtRToD4cCtRHjwL1saOWRfwqqZ5BWDaOiT6Vxsa+UssCACoMARkALEFABgBLUKC+COUsgD1Q246LjWOiT6Wxsa8UqI9ROT80GKhtx8XGMdGn0tjYVz7UA4AKQ0AGAEsQkAHAEgRkALBEcQGZAvU+FKgvV9sxsLEYvI198hzLFKiPTlEBmQL1fhSop0B9fGzsk/9YpkB9dAoPyBSoLxIF6n1KbjsOFKgPiwL18Sg8IFOgPgAF6ilQHxMK1EeAAvUBKFAfiAL1FKjPhwL1paNAfRAK1FOgPo0C9WFRoD4OFKinQL2vqDcF6ilQHw4F6qNHgfrYUcsifpVUzyAsG8dEn0pjY1+pZQEAFYaADACWICADgCUoUF+EchbAHqhtx8XGMdGn0tjY18gK1I8em+fLpACAUI6/k+d7oAa3LADAEgRkALAEARkALEFABgBLEJABwBIEZACwBAEZACxBQAYASxCQAcASBGQAsAQBGQAsEaKWxVdkw/MNMi3XD2idflnui+SXPhplw6YOWXLrNjOdS9j1AMAeEdWy2CZL1r+c42djemXv+qh+dgkABrZwtyycn/7vNRNp3bu3ypKNZiK0Rmkxv6u3Z3ujmTdfZeGzZdrMBs88kYZNze56z6+UBmdO0Hp6XubrAUDlCX0PefOtezJ+UbpDni7itkHDpoly8m73l6en758oLWv0XJWFX9Uqe3dvlunXNTvryaKVcqNsdda775XhMsv54dTs9Ro23SRVOzJfDwAqTwEf6jVL/Zb07zYf3bJcmszjQmy+tVXkTpPRzjslj68wCzJt7BTRmbBab+nMEWZmtprqQTJ+gXm9BQkZOW6+WQIAlaWwb1msWC5PHFF/j7RKfa5A2pc1s9MZ7XqRGzcFB1BvJn3f7vfM3GztnR2yN7Ver3S9xYd9ACpTWX4xZPX2zXLDRfpRrwqmjeY+tL63PFvGq2Dv3I5YtFJ2rbpUhupFWnJ+5nrOPWT3WyDduzfLHL59AcBCYb5lwU84AUA/4CecAKCCEJABwBIEZACwBAEZACxBQAYASxCQAcASfX7tbetvfyL7nmszUwDQP6bOqDtjYo8ey02f+7aZyq3PgLz6R7dL808fM1MA0D8av/mlMyb26LE0ffdBM5UbtywAwBIEZACwBAEZACxBQAYASxT4oV66spqrQ56Y8JpM3i5Snyws7whY7+5Tcu2q4fL0BF1HWS+/SWT9VpE7A17v8EQ54KynK8OtFdkvcsOChLuKcXRLQ84SoPqXRhbLVlP5zVSHcxeZinCJgHlulTjfcxetlJY5f5T61LK1MmvX8oBfSfG34fbN/9t/7nN1LejM8bbK+VnbNGie3i7BffYL6ouZWLNWWmS5mdbrZWzn67xteCvxKX0+Vz1OVejLeC5QhFI+1As6V3Ofv/GL6UO9hFR1trq1jJ1/7gmZLXi9rtMi5zu//KGWO8Emx+vpmsveX/5YsdxdvqXDCTD6ce56zPNlVvV70lV9pfuzT4uqRfQvjJg2nq6eLauD5gU9d+M9ciC1rFFurH4t58486Xm9A+OSPzmVKWi8Iefl7HO2cH1RMrezkn7uHqm6s5DnqovsnTVy0KlNrS60t+R5LoBA/XvLolP9q1X/1qjgciR30XmR10TyBZJ8Fl3pBLPHO5M/+1SAgOc2PXpKzteBR/X55KPedwF+VebXTfS/G6o7y/rDr+H7km87N8sBtR1qzFS2zOfqi8gec8HaJs8Us/2BnNQFf3uz7DLHtftTbfpdaPIHLvTyyk8CCg/IF81OnezpHx8NELRe5yl1Es+XhnEqE9PBWcvxek27OqWmmBNaBfyTu7bJ5l2npGqOu7NGegLU5P1uFh40L+i5Okt+e5x6uz6uM+9bnXRmuVme2J/+qass3vEmf5S1r3lmuwT2OUDovij5tnO72kfuO5pgvufqDL5Tt6VvR+X/2S2gOO3ykHNct4pMOTN/0LjwgKx/qcPZKOrfVffkzr4C19NROOFkXW8700qu19vYIefPKXyjr55yqUxbpYLWqktlfLV737nL+xZ+ylrnrX7QvKDnak1vqf+8lTs79tsm7eOuzHk7wTfe5H33vuaZ7RLU5/z66IuWZzvXqBj7dr77bd7n6t9AdLaZ/iFa1cct7e58ICqd5X3n2R/6+VsWHSoQT5TJKjD3fbqqE1sFwslmKpxGtX46kD2h2uo7aCWV8lyv+TLrkhons6y6xNyLdub1Edxike5Lbjm286KVcm31qT72k/e5HXKyerpscNpSWfK83Dc7gKhUJROnRVdKrUogKl1ptywON6sTUJ+ImfMC1pvhPr1dRshIdfKmZL2ema/pD+6c394Lac1Ekf3pTLZpvwoWXzQThvM23PQlyZn3WMBzMz7wyid937ZBal/ZKks2Nsvjr9TI0tS81py3GALl2H5J+W4nZPfFLMjFs51Tz11VIwfX53kHlJR6rgrO69ulVr/DUO1WdZIhI27NckDMeXLncOnSb8ArXMXWstBfT1s6c5CZcvXHj5yWq90gNvUFiNpArGVBcSEAVhqIAbmf7yEDAHIhIAOAJShQD8BKFKgPMHrsSPMIAFCs4+90mUe5ccsCACxBQAYASxCQAcASBGQAsESfH+oBAPoHGTIAWIKADACWICADgCUIyABgCQIyAFhB5P8Bj6da6AE09KIAAAAASUVORK5CYII=" width="356" height="257" class="img_ev3q"></p><p>따라서 다른 인덱스를 사용해 그리려면 VAO에 IBO를 새로 기록해야 하기 때문에 VBO-IBO를 통합해서 기록하는 것은 유연성이 떨어집니다. 물론 우리 학습 코드에서는 이런 경우가 아마도 없을 것 같지만, 위와 같은 이유로 일단은 분리된 설계로 남겨 두었습니다.</p></div></div></details>
<p>그럼 이제 사용을 해 볼까요?</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;VertexArray.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//--- 사각형 VAO 설정</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_vao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenVertexArrays</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- 기록 시작</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">VertexArray squareVA</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VertexBuffer squareVB</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VertexBufferLayout squareLayout</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">squareLayout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">float</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 0-th layout (position)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">squareLayout</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">Push</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">float</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1-th layout (color)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">squareVA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">squareVB</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> squareLayout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IndexBuffer squareIB</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">squareVA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Unbind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">squareIB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Unbind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">squareVB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Unbind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Rendering Loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">glfwWindowShouldClose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glClear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_COLOR_BUFFER_BIT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//--- 사각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1) 사각형을 위한 VAO 바인딩</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    squareVA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2) 사각형 그리기 프로그램 준비</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shaderID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> square_offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7f</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUniform4f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_offset_location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_offset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3) 사각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glDrawElements</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">	GL_UNSIGNED_INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">nullptr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 4) 사각형 VAO 정리</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    squareVA</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Unbind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//--- 삼각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>VAO를 직접 생성과 바인딩 했던 부분을 모두 <code>VertexArray</code>에 위임하였습니다. 특별히 대단할 것 없지만, 이렇게 하면 흐름이 좀 더 명확하게 보이실 겁니다.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>용어들을 가급적 잘 구분해서 이해하시는 것이 좋습니다. VAO는 정확히 말하자면 <code>VertexArray</code> 객체가 멤버 변수로 가지고 있는 <code>vao</code> 입니다. (이것도 더 들어가자면 GPU 내에 VAO가 있고, 우리는 <code>vao</code>라는 핸들(ID)만 들고있는 것이지만 거기까지 꼭 명시하지는 않겠습니다.)</p><p>우리가 만든 <code>VertexArray</code>의 객체는 VAO를 멤버로 가지고 있는 무언가이기때문에 이름을 <code>squareVA</code>로 한 것입니다. <code>sqareVAO</code>가 아니라요. 코드의 동작에는 상관이 없지만, 개념을 확실히 하기 위해서입니다.</p></div></div>
<p>이렇게 해서 두 번째 단계로 VAO까지 추상화를 해 보았습니다. 다음 문서에서 남은 셰이더와 렌더러(draw 함수 호출을 담당)까지 추상화를 해 보도록 합시다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="연습-문제">연습 문제<a class="hash-link" aria-label="Direct link to 연습 문제" title="Direct link to 연습 문제" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#연습-문제">​</a></h2>
<ol>
<li>
<p>이전과 마찬가지로 삼각형에 대한 코드를 이  번 장에서 구현한 <code>VertexArray</code>와 <code>VertexBufferLayout</code>을 사용하도록 스스로 수정해 보세요. 삼각형 셰이더는 아직 layout이 <code>a_position</code> 밖에 없다는 점에 유의하시고요.</p>
</li>
<li>
<p>만일 동일한 모델에 대한 정점 데이터가 아래와 같이 두 개의 배열로 구성되어 있다고 해 봅시다. 이 경우에도 동일한 장면을 그리고 싶다면 어떻게 코드를 수정해야 할까요?</p>
</li>
</ol>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//x     y    </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//0번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//3번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> colors</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//r    g    b    a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//0번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//3번 vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="관련-링크">관련 링크<a class="hash-link" aria-label="Direct link to 관련 링크" title="Direct link to 관련 링크" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#관련-링크">​</a></h2>
<ul>
<li><a href="https://stackoverflow.com/questions/14249634/opengl-vaos-and-multiple-buffers" target="_blank" rel="noopener noreferrer">Using Multiple Buffer</a></li>
<li><a href="https://docs.gl/gl3/glVertexAttribPointer" target="_blank" rel="noopener noreferrer">glVertexAttribPointer</a></li>
<li><a href="/GL_Practice_Document/assets/files/main_before_abstraction-b3a9577f19b1dfba2d1f9b25f23c0ef9.cpp" target="_blank">Abstraction 이전 main.cpp</a></li>
<li><a href="/GL_Practice_Document/assets/files/src-69ad25bc9591ed8a18378c8278c515b0.zip" target="_blank">최종 코드(zip)</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/diskhkme/GL_Practice_Document/docs/tutorial-opengl/09_vertex_array_and_layout.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/GL_Practice_Document/tutorial-opengl/vertex_index_buffer_abstraction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Vertex/Index Buffer Abstraction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/GL_Practice_Document/tutorial-opengl/shader_and_renderer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Shader and Renderer Abstraction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#색상-어트리뷰트-확장">색상 어트리뷰트 확장</a><ul><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#정점-데이터-확장">정점 데이터 확장</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#셰이더-확장">셰이더 확장</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#어트리뷰트-설정">어트리뷰트 설정</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#vertexbufferlayout-class">VertexBufferLayout Class</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#vertexarray-class">VertexArray Class</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#연습-문제">연습 문제</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout#관련-링크">관련 링크</a></li></ul></div></div></div><div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Hyungki Kim(diskhkme@gmail.com). Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>