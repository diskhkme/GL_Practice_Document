<!doctype html>
<html lang="kr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-opengl/vertex_array_object" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Vertex Array Object (VAO) | 그래픽스 실습</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://diskhkme.github.io/GL_Practice_Document/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://diskhkme.github.io/GL_Practice_Document/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_object"><meta data-rh="true" property="og:locale" content="kr"><meta data-rh="true" name="docusaurus_locale" content="kr"><meta data-rh="true" name="docsearch:language" content="kr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Vertex Array Object (VAO) | 그래픽스 실습"><meta data-rh="true" name="description" content="Modern OpenGL을 공부하시다 보면 반드시 VAO에 대해서 들어보시게 될 겁니다."><meta data-rh="true" property="og:description" content="Modern OpenGL을 공부하시다 보면 반드시 VAO에 대해서 들어보시게 될 겁니다."><link data-rh="true" rel="icon" href="/GL_Practice_Document/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_object"><link data-rh="true" rel="alternate" href="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_object" hreflang="kr"><link data-rh="true" rel="alternate" href="https://diskhkme.github.io/GL_Practice_Document/tutorial-opengl/vertex_array_object" hreflang="x-default"><link rel="stylesheet" href="/GL_Practice_Document/assets/css/styles.aaccee4e.css">
<script src="/GL_Practice_Document/assets/js/runtime~main.fcb4cd04.js" defer="defer"></script>
<script src="/GL_Practice_Document/assets/js/main.9fd06bec.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/GL_Practice_Document/"><div class="navbar__logo"><img src="/GL_Practice_Document/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/GL_Practice_Document/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/GL_Practice_Document/">Tutorial</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/GL_Practice_Document/">튜토리얼 개요</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/GL_Practice_Document/category/튜토리얼---opengl">튜토리얼 - OpenGL</a><button aria-label="Collapse sidebar category &#x27;튜토리얼 - OpenGL&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_buffer">Vertex Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/shader_and_vertex_attribute">Shader and Vertex Attribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/parse_shader_from_file">Parse Shader from File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/index_buffer">Index Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/shader_uniform">Shader Uniform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object">Vertex Array Object (VAO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_index_buffer_abstraction">Vertex/Index Buffer Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/vertex_array_and_layout">Vertex Array and Buffer Layout Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/shader_and_renderer">Shader and Renderer Abstraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/using_matrix_with_GLM">Using Matrix with GLM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/window_input_handle">Window Abstraction and Input Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/13_3d_rendering_with_mvp_transform">3D Rendering with MVP Transform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/interactive_camera">Interactive Camera</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/texture">Texture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/model_import">Model Import</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/lighting_ambient">Lighting - Ambient</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GL_Practice_Document/tutorial-opengl/lighting_diffuse">Lighting - Diffuse</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/GL_Practice_Document/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/GL_Practice_Document/category/튜토리얼---opengl"><span itemprop="name">튜토리얼 - OpenGL</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Vertex Array Object (VAO)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Vertex Array Object (VAO)</h1>
<p>Modern OpenGL을 공부하시다 보면 반드시 VAO에 대해서 들어보시게 될 겁니다.</p>
<p>실제 동작하는 그래픽스 프로그램을 구현하다 보면 화면 상에 여러 물체들을 그리게 될텐데, 앞서 설명한것처럼 하나의 물체를 그리기 위해서는 Vertex, Index, Program과 같은 다양한 상태들이 관여하게 됩니다.</p>
<p>이렇게 다양한 상태들을 보다 편리하게 관리하기 위한 방법으로 만들어진 개념이 VAO입니다. VAO가 왜 필요한지는 우선 VAO가 없으면 어떻게 해야하는지부터 살펴보면 구체적으로 이해가 되실 겁니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-objects---without-vao">Multiple Objects - without VAO<a class="hash-link" aria-label="Direct link to Multiple Objects - without VAO" title="Direct link to Multiple Objects - without VAO" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#multiple-objects---without-vao">​</a></h2>
<p>예제 코드를 확장해서, 사각형 하나와 삼각형 하나를 화면에 그리도록 한 번 만들어 보겠습니다. 또한 삼각형과 사각형이 서로 다른 셰이더 프로그램을 사용하도록 할 겁니다.</p>
<p>실제 상황에서는 예를 들자면 여러 삼각형들로 이루어진 캐릭터 3D 모델 하나와 배경 3D 모델 하나를 화면에 그리는 상황으로 생각하면 됩니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="사전-준비">사전 준비<a class="hash-link" aria-label="Direct link to 사전 준비" title="Direct link to 사전 준비" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#사전-준비">​</a></h3>
<p>먼저 삼각형을 위한 셰이더 파일을 하나 추가적으로 만들어줍니다. 기존 셰이더 코드와 완전히 동일하지만, 색상만 다른 색으로 해 주었습니다.</p>
<div class="language-glsl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">resources/shaders/basic_red.shader</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-glsl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">shader</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">vertex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">version</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">330</span><span class="token macro property expression" style="color:#36acaa"> core</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> position</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">uniform</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> u_offset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	gl_Position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> position </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> u_offset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">shader</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression" style="color:#36acaa">fragment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">version</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">330</span><span class="token macro property expression" style="color:#36acaa"> core</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">out</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">vec4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// red color</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>다음으로 삼각형과 사각형 데이 터를 정의합니다. 기존 사각형 데이터를 위한 배열들 아래에 삼각형을 위한 배열을 추가적으로 정의해 주었습니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//vertex 0,1,2로 이루어진 삼각형</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//vertex 2,3,0로 이루어진 삼각형</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> triangle_positions</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//0</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_indices</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//vertex 0,1,2로 이루어진 삼각형</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>그리고 삼각형 정점 데이터를 GPU에 복사하기 위해 버퍼를 만들고, 바인딩하고, 데이터를 넣어 주었고요.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bufferID</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">	GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_bufferID</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">triangle_bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>삼각형 인덱스 데이터에 대해서도 기존과 같이 작업을 해 줍니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1. 인덱스 버퍼 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2. ELEMENT_ARRAY_BUFFER 바인딩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//3. 데이터 전달</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">triangle_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1. 인덱스 버퍼 생성</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2. ELEMENT_ARRAY_BUFFER 바인딩</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//3. 데이터 전달</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>또한 셰이더가 두 개이니 둘 다 GPU상에서 빌드해서 프로그램으로 만들어 둡니다.</p>
<p>렌더링 시점에 삼각형과 사각형은 다른 셰이더 프로그램을 사용할 것이기 때문에 <code>glUseProgram()</code>은 미리 호출하지 않습니다. 또한 <code>glUniform4f()</code>도 애니메이션을 할 때처럼 렌더링 직전에 호출할 것이기 때문에 미리 호출하지 않습니다. 대신 <code>offset</code> 유니폼 입력을 위한 location들은 미리 얻어둡니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ShaderProgramSource source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ParseShader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;resources/shaders/basic.shader&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> shaderID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">CreateShader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VertexSource</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">FragSource</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shaderID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_offset_location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">glGetUniformLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shaderID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;u_offset&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">glGetUniformLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shaderID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;u_offset&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glUniform4f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">ShaderProgramSource triangle_source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ParseShader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;resources/shaders/basic_red.shader&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_shaderID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">CreateShader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">triangle_source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">VertexSource</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">FragSource</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_offset_location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">glGetUniformLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">triangle_shaderID</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;u_offset&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>여기까지는 VAO 사용 여부와 관계없이, 여러 물체를 화면에 그리려면 당연히 해 주어야 하는 데이터 정의 작업입니다.</p><p>이러한 과정을 위한 코드를 단순화 하는 것은 나중 문서에서 클래스를 활용해 추상화 하는 것으로 해결할 예정입니다.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="렌더링-루프">렌더링 루프<a class="hash-link" aria-label="Direct link to 렌더링 루프" title="Direct link to 렌더링 루프" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#렌더링-루프">​</a></h3>
<p>마지막으로 렌더링 루프를 전체적으로 아래와 같이 수정합니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Rendering Loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">glfwWindowShouldClose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glClear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_COLOR_BUFFER_BIT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//--- 사각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1) 사각형을 위한 버퍼 바인딩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2) 사각형 그리기 프로그램 준비</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shaderID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> square_offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7f</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUniform4f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_offset_location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_offset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3) 사각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glDrawElements</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">	GL_UNSIGNED_INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">nullptr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 4) 사각형 관련 상태 정리</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//--- 삼각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1) 삼각형을 위한 버퍼 바인딩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2) 삼각형 그리기 프로그램 준비</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">triangle_shaderID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> triangle_offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.7f</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUniform4f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">triangle_offset_location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_offset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3) 삼각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glDrawElements</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_UNSIGNED_INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">nullptr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 4) 삼각형 관련 상태 정리</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glfwSwapBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glfwPollEvents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>이전 챕터에서 사용했던 <code>offset</code>과 <code>increment</code>를 삭제하였으니 참고하십시오.</p></div></div>
<p>많이 수정되었는데 일단 몇 가지 설명 드리겠습니다.</p>
<ul>
<li>&quot;1) 사각형을 위한 버퍼 바인딩&quot;<!-- -->
<ul>
<li>사각형 관련 버퍼들을 바인딩하고, 어트리뷰트 설정을 해 줍니다.</li>
<li>만일 이 작업을 하지 않고 Draw를 한다면, 렌더링 루프 이전 바인딩된 버퍼는 삼각형 관련 버퍼들이기 때문에 사각형이 아니라 삼각형이 그려질겁니다.</li>
</ul>
</li>
<li>&quot;2) 사각형 그리기 프로그램 준비&quot;<!-- -->
<ul>
<li>사각형용 셰이더 프로그램으로 사각형을 그릴 것이므로 해당 프로그램을 바인딩하고, 유니폼들을 설정해줍니다.</li>
</ul>
</li>
<li>&quot;3) 사각형 그리기&quot;<!-- -->
<ul>
<li>사각형을 그리기 위한 상태들이 설정되었으니 그리기를 수행하면 화면 오른쪽에 사각형이 그려집니다.</li>
</ul>
</li>
<li>&quot;4) 사각형 관련 상태 정리&quot;<!-- -->
<ul>
<li>이 뒤에 삼각형을 추가적으로 그릴 것이므로, 사각형 관련 상태를 정리, 즉 언바인딩해 줍니다.</li>
<li>언바인딩의 대상은 버퍼들과 프로그램입니다.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>버퍼를 언바인딩하려면 <code>glBindBuffer()</code> 함수의 두 번째 인자로 <code>0</code>을 넘겨주면 됩니다. 첫 번째 인자는 당연히 &quot;어떤&quot; 바인딩 포인트의 버퍼를 언바인딩할 것인지를 명시하는 것입니다.</p><p><code>glUseProgram()</code>의 언바인딩은 바인딩 포인트를 설정할 필요가 없기 때문에 인자 하나로 <code>0</code>만 넘겨주면 됩니다.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>그리기가 끝나고, 해당하는 상태들을 언바인딩 하지 않아도, &quot;운이 좋다면&quot; 내가 의도한대로 화면이 그려질 수도 있지만 그렇지 않을 가능성이 큽니다.</p><p>제대로 된 상태 설정이 되지 않았을 경우 화면이 그려지지 않도록 언바인딩 해 두는 것이 나중의 실수를 방지하기 위해 오히려 좋습니다. (assert 같은거죠.)</p></div></div>
<p>여기까지 수정하고 실행해 보면 아래와 같이 두 물체가 잘 그려지는 것을 볼 수 있습니다.</p>
<p><img decoding="async" loading="lazy" alt="Result without VAO" src="data:image/png;base64,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" width="642" height="512" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>여기까지의 코드를 아래 <a href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#%EA%B4%80%EB%A0%A8-%EB%A7%81%ED%81%AC">관련 링크</a>에서 별도로 다운받으실 수 있습니다.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-objects---with-vao">Multiple Objects - with VAO<a class="hash-link" aria-label="Direct link to Multiple Objects - with VAO" title="Direct link to Multiple Objects - with VAO" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#multiple-objects---with-vao">​</a></h2>
<p>여기까지만 봐도 골치가 많이 아파지실 겁니다. 앞서 말씀드렸듯이 데이터 정의, 별도의 셰이더 프로그램은 어쩔 수 없이 필요한 작업입니다.</p>
<p>하지만 실제 렌더링 시점에서 우리가 바인딩/언바인딩 해주어야 하는 상태가 많고, 하나만 삐끗해도 의도한대로 결과가 나오지 않습니다.</p>
<p>이러한 실수를 방지하고, 올바른 물체를 의도한 시점에 잘 그리기 위해서 VAO를 사용해야 합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vao-간단-설명">VAO 간단 설명<a class="hash-link" aria-label="Direct link to VAO 간단 설명" title="Direct link to VAO 간단 설명" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#vao-간단-설명">​</a></h3>
<p>VAO는 정점 버퍼와 인덱스 버퍼를 사용해 셰이더에서 정점 데이터를 어떻게 읽어와야 할 지를 저장해 놓는 객체입니다.</p>
<p>즉, 기존 코드에서는 아래 함수들을 통해 변화하는 상태를 저장해 두는 객체라고 보시면 됩니다.</p>
<ul>
<li><code>glBindBuffer()</code></li>
<li><code>glBufferData()</code></li>
<li><code>glEnableVertexAttribArray()</code></li>
<li><code>glVertexAttribPointer()</code></li>
</ul>
<p>따라서 우리가 VAO를 한 번 설정해 두고 나면, 이제 사각형을 그렸다가 그 다음에 삼각형을 그릴 때 위 함수들을 하나하나 바인딩/언바인딩해 가며 상태를 설정하지 않고, VAO만 바인딩시켜주면 알아서 기존에 설정된 상태들이 바인딩된다고 보시면 됩니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vao-생성-및-상태-저장">VAO 생성 및 상태 저장<a class="hash-link" aria-label="Direct link to VAO 생성 및 상태 저장" title="Direct link to VAO 생성 및 상태 저장" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#vao-생성-및-상태-저장">​</a></h3>
<p>이제 VAO를 만들고 이렇게 만든 VAO에 상태들을 기록해 봅시다.</p>
<p>먼저 아래와 같이 사각형을 위한 vao를 생성합니다. 정점 버퍼 생성 앞부분에 추가해 줍니다. 추가적으로 정점 버퍼의 ID를 기존에는 <code>bufferID</code>라는 이름을 그대로 썼는데 사각형을 위한 정점 버퍼라는 의미에서 <code>square_vbo</code>로 이름을 변경해 줍니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_vao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenVertexArrays</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//vao 생성</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> bufferID</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_vbo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>다음으로 기존 사각형 인덱스 버퍼 설정 부분을 앞쪽으로 옮겨 오고 이름을 <code>square_ibo</code>로 변경해 줍시다. 앞쪽으로 옮겨오는 것이 중요한데, 조금 뒤에 설명 드리겠습니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_vbo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">	GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1. 인덱스 버퍼 생성</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2. ELEMENT_ARRAY_BUFFER 바인딩</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//3. 데이터 전달</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_bufferID</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 생략</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1. 인덱스 버퍼 생성</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2. ELEMENT_ARRAY_BUFFER 바인딩</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//3. 데이터 전달</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>마지막으로 VAO, VBO, IBO들을 언바인딩 해줍니다.</strong> 순서가 중요합니다. <strong>먼저 VAO를 언바인딩 하고</strong> VBO와 IBO를 언바인딩 해줍니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//1. 인덱스 버퍼 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//2. ELEMENT_ARRAY_BUFFER 바인딩</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//3. 데이터 전달</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//vao unbind</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>전체적인 과정을 다시 한번 짚어 보면 아래와 같습니다. VAO는 정점과 인덱스 설정을 저장하는 기능이라는 것을 생각해 보면 왜 기록 준비가 된 상태에서 나머지를 수행해야 하는지, 왜 나머지 언바인딩보다 VAO를 먼저 언바인딩 해야 하는지가 감이 오실 겁니다.</p>
<ol>
<li>VAO 생성 및 바인딩 (i.e. VAO 기록 준비)</li>
<li>VBO 생성 및 바인딩 및 데이터 복사</li>
<li>어트리뷰트 포인터(읽어오는법) 설정</li>
<li>IBO 생성 및 바인딩 및 데이터 복사</li>
<li>VAO 먼저 언바인딩 (i.e. VAO 기록 종료)</li>
<li>나머지 언바인딩</li>
</ol>
<p>만일 6번을 5번보다 먼저 수행하게 되면, VAO 기록 종료 이전에 데이터가 사라지는 것과 마찬가지이므로 VAO에 상태가 제대로 기록되지 않습니다.</p>
<p>다음으로 삼각형에 대해서도 유사하게 코드를 수정/정리 해 줍니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//--- 삼각형 VAO 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_vao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenVertexArrays</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">triangle_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">triangle_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- 기록 시작</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_vbo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">triangle_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> triangle_ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">triangle_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> triangle_indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- 기록 종료</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>셰이더 프로그램은 VAO와 관련이 없습니다. 프로그램의 상태는 별도로 관리해 주어야 합니다.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vao를-활용한-multiple-object-렌더링">VAO를 활용한 Multiple Object 렌더링<a class="hash-link" aria-label="Direct link to VAO를 활용한 Multiple Object 렌더링" title="Direct link to VAO를 활용한 Multiple Object 렌더링" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#vao를-활용한-multiple-object-렌더링">​</a></h3>
<p>이제 삼각형과 사각형을 VAO 설정값으로 렌더링 합니다. 기존과 동일한 방식으로, 그리기 함수를 수행하기 전에 VAO가 바인딩 되어있으면 됩니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">glfwWindowShouldClose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glClear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_COLOR_BUFFER_BIT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//--- 사각형 그리기</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1) 사각형을 위한 버퍼 바인딩</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bufferID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1) 사각형을 위한 VAO 바인딩</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2) 사각형 그리기 프로그램 준비</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shaderID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> square_offset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.7f</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUniform4f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_offset_location</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_offset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3) 사각형 그리기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glDrawElements</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_TRIANGLES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_UNSIGNED_INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">nullptr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 4) 사각형 관련 상태 정리</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glUseProgram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// unbind</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 4) 사각형 VAO 정리</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 삼각형 관련 코드</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>아주 드라마틱 하진 않지만 코드가 꽤 간략해 진 것을 볼 수 있습니다. 사각형을 그리기 위한 모든 정점 관련 정보가 VAO에 기록되어 있으니 이제 해당 VAO만 바인딩 해 주면 기존과 동일하게 그려지는 것을 볼 수 있습니다.</p>
<p>마지막으로 하나 소소하게 수정할 부분은 GLFW Window에서 사용할 OpenGL 버전을 명시해 주는 것입니다. OpenGL은 다양한 버전이 있고 버전에 따라 기능이 추가되고 사라지기도 합니다. 예전 버전에 대한 Backward compatibility를 갖추는 것은 개발의 편의성을 위해서는 장점이지만, Modern OpenGL에 맞지 않는 활용법에 대해서도 &quot;가능한&quot; 코드가 실행 가능하기 때문에 학습하는 입장에서는 좋지 않습니다.</p>
<p>따라서 GLFW 윈도우 생성 이전에 <code>glfwWindowHint()</code> 함수를 사용해 우리가 사용할 버전을 명시해 주도록 추가해 줍시다. 일반적으로 3.3 이후 버전을 Modern OpenGL이라고 합니다.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">main.cpp</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GLFW 초기화</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">glfwInit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glfwWindowHint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GLFW_CONTEXT_VERSION_MAJOR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glfwWindowHint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GLFW_CONTEXT_VERSION_MINOR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glfwWindowHint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GLFW_OPENGL_PROFILE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GLFW_OPENGL_CORE_PROFILE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Window 정의 및 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GLFWwindow</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> window </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">glfwCreateWindow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">640</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">480</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hello World&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 현재 윈도우를 그릴 대상으로 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glfwMakeContextCurrent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>다음 몇 개 문서에서는 VAO, VBO들과 Shader 관련 코드를 클래스 구현으로 바꾸어 <code>main.cpp</code>를 정리하고, 이후 좀 더 구조화된 코드를 사용할 수 있도록 리팩터링을 해 보겠습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="마치며">마치며<a class="hash-link" aria-label="Direct link to 마치며" title="Direct link to 마치며" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#마치며">​</a></h2>
<ol>
<li>
<p><a href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#multiple-objects---without-vao">VAO를 사용하지 않는 코드 부분</a>에서는 사실 VAO를 사용하지 &quot;않은&quot; 것이 아니라 &quot;기본(default) VAO&quot;를 사용하고 있었습니다. 우리가 명시적으로 만들지 않아도 사실 기본 VAO가 하나 있어서 우리가 거기에 버퍼를 바인딩하고, 어트리뷰트 포인터를 설정한 뒤 사각형을 그린 것입니다. 그리고 그 뒤에 삼각형을 그릴때는 다시 기본 VAO에다가 다른 상태를 설정하고 그린 것입니다.</p>
</li>
<li>
<p>VBO에 정확히 어떤 정보들이 기록되는지는 사실 조금 더 복잡합니다. VBO의 경우는 버퍼 핸들(ID)만이기 때문에 예를들어 아래처럼 실제 데이터를 복사하는 <code>glBufferData()</code>는 VAO 언바인딩 이후에, 렌더링 전에만 이루어져도 무방하긴 합니다. 반면 어트리뷰트 포인터와 IBO(Bind &amp; BufferData)는 반드시 VAO 언바인딩 전에 이루어져야 합니다. 물론 특수한 상황에서 이런 속성을 잘 활용할 수도 있겠지만 여기서는 그렇게 깊이 들어가지는 않도록 하겠습니다. 궁금하신 분은 <a href="https://stackoverflow.com/questions/26552642/when-is-what-bound-to-a-vao" target="_blank" rel="noopener noreferrer">Stackoverflow의 글</a> 을 참고하세요.</p>
</li>
</ol>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_vao</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenVertexArrays</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">square_vao</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- 기록 시작</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_vbo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_vbo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glEnableVertexAttribArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glVertexAttribPointer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FLOAT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_FALSE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> square_ibo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glGenBuffers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">square_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> square_ibo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> indices</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindVertexArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;-- 기록 종료</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBufferData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">float</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> positions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> GL_STATIC_DRAW</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">glBindBuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GL_ELEMENT_ARRAY_BUFFER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="연습-문제">연습 문제<a class="hash-link" aria-label="Direct link to 연습 문제" title="Direct link to 연습 문제" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#연습-문제">​</a></h2>
<ol>
<li>
<p>두 물체를 그리는 셰이더를 바꾸어 사각형이 빨간색으로, 삼각형이 노란색으로 그려지게 해 보세요. 셰이더 코드를 수정하지 않고 렌더링 루프 내의 코드만 수정해서요.</p>
</li>
<li>
<p>VAO를 추가하여 화면에 삼각형이 하나 더 그려지도록 해 보세요. 이렇게 추가한 삼각형은 <code>basic.shader</code> 프로그램을 사용하여 노란색으로 그려져야 합니다.</p>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="관련-링크">관련 링크<a class="hash-link" aria-label="Direct link to 관련 링크" title="Direct link to 관련 링크" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#관련-링크">​</a></h2>
<ul>
<li><a href="/GL_Practice_Document/assets/files/main_end-1a48f1807743869b116a53cbc97bd04a.cpp" target="_blank">최종 소스코드</a></li>
<li><a href="/GL_Practice_Document/assets/files/main_without_vao-0311292d9e34c8532cef55de15e58113.cpp" target="_blank">VAO 사용하지 않는 코드</a></li>
<li><a href="https://learnopengl.com/Getting-started/Hello-Triangle" target="_blank" rel="noopener noreferrer">learopengl.com VAO 섹션</a></li>
<li><a href="https://stackoverflow.com/questions/26552642/when-is-what-bound-to-a-vao" target="_blank" rel="noopener noreferrer">VAO State가 바인딩 하는 것들</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/diskhkme/GL_Practice_Document/docs/tutorial-opengl/07_vertex_array_object.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/GL_Practice_Document/tutorial-opengl/shader_uniform"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Shader Uniform</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/GL_Practice_Document/tutorial-opengl/vertex_index_buffer_abstraction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Vertex/Index Buffer Abstraction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#multiple-objects---without-vao">Multiple Objects - without VAO</a><ul><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#사전-준비">사전 준비</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#렌더링-루프">렌더링 루프</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#multiple-objects---with-vao">Multiple Objects - with VAO</a><ul><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#vao-간단-설명">VAO 간단 설명</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#vao-생성-및-상태-저장">VAO 생성 및 상태 저장</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#vao를-활용한-multiple-object-렌더링">VAO를 활용한 Multiple Object 렌더링</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#마치며">마치며</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#연습-문제">연습 문제</a></li><li><a class="table-of-contents__link toc-highlight" href="/GL_Practice_Document/tutorial-opengl/vertex_array_object#관련-링크">관련 링크</a></li></ul></div></div></div><div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Hyungki Kim(diskhkme@gmail.com). Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>